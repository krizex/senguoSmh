/*! demo 2015-01-30 */
var baguetteBox=function(){function a(a,c){b(),H=document.querySelectorAll(a),[].forEach.call(H,function(a){var b=I.length;I.push(a.getElementsByTagName("a")),I[b].options=c,[].forEach.call(I[b],function(a,c){q(a,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1,d(b),g(c)})})}),D.transforms=n()}function b(){return(r=document.getElementById(A))?(s=document.getElementById(B),t=document.getElementById("previous-button"),u=document.getElementById("next-button"),void(v=document.getElementById("close-button"))):(r=document.createElement("div"),r.id=A,document.getElementsByTagName("body")[0].appendChild(r),s=document.createElement("div"),s.id=B,r.appendChild(s),t=document.createElement("button"),t.id="previous-button",t.innerHTML=x,r.appendChild(t),u=document.createElement("button"),u.id="next-button",u.innerHTML=y,r.appendChild(u),v=document.createElement("button"),v.id="close-button",v.innerHTML=z,r.appendChild(v),t.className=u.className=v.className="baguetteBox-button",void c())}function c(){q(r,"click",function(a){a.target&&"IMG"!==a.target.nodeName&&h()}),q(document.getElementById("previous-button"),"click",function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,l()}),q(document.getElementById("next-button"),"click",function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,k()}),q(document.getElementById("close-button"),"click",function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,h()}),q(r,"touchstart",function(a){w=a.changedTouches[0].pageX}),q(r,"touchmove",function(a){G||(a.preventDefault?a.preventDefault():a.returnValue=!1,touch=a.touches[0]||a.changedTouches[0],touch.pageX-w>40?(G=!0,l()):touch.pageX-w<-40&&(G=!0,k()))}),q(r,"touchend",function(){G=!1}),q(document,"keydown",function(a){switch(a.keyCode){case 37:l();break;case 39:k();break;case 27:h()}})}function d(a){if(F!==a){for(F=a,e(I[a].options);s.firstChild;)s.removeChild(s.firstChild);J.length=0;for(var b=0;b<I[a].length;b++)J.push(f()),s.appendChild(J[b])}}function e(a){a||(a={});for(var b in D)C[b]=D[b],"undefined"!=typeof a[b]&&(C[b]=a[b]);s.style.transition=s.style.webkitTransition="fadeIn"===C.animation?"opacity .4s ease":"","auto"===C.buttons&&("ontouchstart"in window||1===I[F].length)&&(C.buttons=!1),t.style.display=u.style.display=C.buttons?"":"none"}function f(){var a=document.createElement("div");return a.className="full-image",a}function g(a){"block"!==r.style.display&&(E=a,i(E,function(){o(E),p(E)}),m(),r.style.display="block",setTimeout(function(){r.className="visible"},50))}function h(){"none"!==r.style.display&&(r.className="",setTimeout(function(){r.style.display="none"},500))}function i(a,b){var c=J[a];if("undefined"!=typeof c){if(c.getElementsByTagName("img")[0])return void(b&&b());imageElement=I[F][a],imageCaption=imageElement.getAttribute("data-caption")||imageElement.title,imageSrc=j(imageElement);var d=document.createElement("figure"),e=document.createElement("img"),f=document.createElement("figcaption");c.appendChild(d),d.innerHTML='<div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>',e.onload=function(){var a=this.parentNode.querySelector(".spinner");this.parentNode.removeChild(a),!C.async&&b&&b()},e.setAttribute("src",imageSrc),d.appendChild(e),C.captions&&imageCaption&&(f.innerHTML=imageCaption,d.appendChild(f)),C.async&&b&&b()}}function j(a){var b=imageElement.getAttribute("href");if(a.dataset){var c=[];for(var d in a.dataset)"at-"!==d.substring(0,3)||isNaN(d.substring(3))||(c[d.replace("at-","")]=a.dataset[d]);keys=Object.keys(c).sort(function(a,b){return parseInt(a)<parseInt(b)?-1:1});for(var e=window.innerWidth*window.devicePixelRatio,f=0;f<keys.length;f++){if(keys[f]>=e){b=c[keys[f]];break}b=c[keys[f]]}}return b}function k(){E<=J.length-2?(E++,m(),o(E)):(s.className="bounce-from-right",setTimeout(function(){s.className=""},400))}function l(){E>=1?(E--,m(),p(E)):(s.className="bounce-from-left",setTimeout(function(){s.className=""},400))}function m(){var a=100*-E+"%";"fadeIn"===C.animation?(s.style.opacity=0,setTimeout(function(){C.transforms?s.style.transform=s.style.webkitTransform="translate3d("+a+",0,0)":s.style.left=a,s.style.opacity=1},400)):C.transforms?s.style.transform=s.style.webkitTransform="translate3d("+a+",0,0)":s.style.left=a}function n(){var a=document.createElement("div"),b=!1;return b="undefined"!=typeof a.style.perspective||"undefined"!=typeof a.style.webkitPerspective}function o(a){a-E>=C.preload||i(a+1,function(){o(a+1)})}function p(a){E-a>=C.preload||i(a-1,function(){p(a-1)})}function q(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}var r,s,t,u,v,w,x='<svg width="40" height="60" xmlns="http://www.w3.org/2000/svg" version="1.1"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round">&lt;</polyline></svg>',y='<svg width="40" height="60" xmlns="http://www.w3.org/2000/svg" version="1.1"><polyline points="10 10 30 30 10 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round">&gt;</polyline></svg>',z='<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" version="1.1"><g stroke="rgb(160, 160, 160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/>X</g></svg>',A="baguetteBox-overlay",B="baguetteBox-slider",C={},D={captions:!0,buttons:"auto",async:!1,preload:2,animation:"slideIn"},E=0,F=-1,G=!1,H=[],I=[],J=[];return Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this.length,d=0;c>d;d++)a.call(b,this[d],d,this)}),{run:a}}();
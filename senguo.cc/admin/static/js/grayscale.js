var grayscale=(function(){var f={colorProps:["color","backgroundColor","borderBottomColor","borderTopColor","borderLeftColor","borderRightColor","backgroundImage"],externalImageHandler:{init:function(j,k){if(j.nodeName.toLowerCase()==="img"){}else{e(j).backgroundImageSRC=k;j.style.backgroundImage=""}},reset:function(j){if(j.nodeName.toLowerCase()==="img"){}else{j.style.backgroundImage="url("+(e(j).backgroundImageSRC||"")+")"}}}},c=function(){try{window.console.log.apply(console,arguments)}catch(j){}},a=function(j){return(new RegExp("https?://(?!"+window.location.hostname+")")).test(j)},e=(function(){var j=[0],k="data"+(+new Date());return function(n){var m=n[k],l=j.length;if(!m){m=n[k]=l;j[m]={}}return j[m]}})(),d=function(p,j,k){var q=document.createElement("canvas"),l=q.getContext("2d"),u=p.naturalHeight||p.offsetHeight||p.height,m=p.naturalWidth||p.offsetWidth||p.width,n;q.height=u;q.width=m;l.drawImage(p,0,0);try{n=l.getImageData(0,0,m,u)}catch(r){}if(j){d.preparing=true;var s=0;(function(){if(!d.preparing){return}if(s===u){l.putImageData(n,0,0,0,0,m,u);k?(e(k).BGdataURL=q.toDataURL()):(e(p).dataURL=q.toDataURL())}for(var v=0;v<m;v++){var w=(s*m+v)*4;n.data[w]=n.data[w+1]=n.data[w+2]=h(n.data[w],n.data[w+1],n.data[w+2])}s++;setTimeout(arguments.callee,0)})();return}else{d.preparing=false}for(var s=0;s<u;s++){for(var t=0;t<m;t++){var o=(s*m+t)*4;n.data[o]=n.data[o+1]=n.data[o+2]=h(n.data[o],n.data[o+1],n.data[o+2])}}l.putImageData(n,0,0,0,0,m,u);return q},g=function(k,m){var j=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(k,null)[m]:k.currentStyle[m];if(j&&/^#[A-F0-9]/i.test(j)){var l=j.match(/[A-F0-9]{2}/ig);j="rgb("+parseInt(l[0],16)+","+parseInt(l[1],16)+","+parseInt(l[2],16)+")"}return j},h=function(l,k,j){return parseInt((0.2125*l)+(0.7154*k)+(0.0721*j),10)},b=function(j){var k=Array.prototype.slice.call(j.getElementsByTagName("*"));k.unshift(j);return k};var i=function(j){if(j&&j[0]&&j.length&&j[0].nodeName){var y=Array.prototype.slice.call(j),A=-1,w=y.length;while(++A<w){i.call(this,y[A])}return}j=j||document.documentElement;if(!document.createElement("canvas").getContext){j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)";j.style.zoom=1;return}var k=b(j),t=-1,v=k.length;while(++t<v){var m=k[t];if(m.nodeName.toLowerCase()==="img"){var p=m.getAttribute("src");if(!p){continue}if(a(p)){f.externalImageHandler.init(m,p)}else{e(m).realSRC=p;try{m.src=e(m).dataURL||d(m).toDataURL()}catch(x){f.externalImageHandler.init(m,p)}}}else{for(var n=0,s=f.colorProps.length;n<s;n++){var l=f.colorProps[n],u=g(m,l);if(!u){continue}if(m.style[l]){e(m)[l]=u}if(u.substring(0,4)==="rgb("){var q=h.apply(null,u.match(/\d+/g));m.style[l]=u="rgb("+q+","+q+","+q+")";continue}if(u.indexOf("url(")>-1){var z=/\(['"]?(.+?)['"]?\)/,o=u.match(z)[1];if(a(o)){f.externalImageHandler.init(m,o);e(m).externalBG=true;continue}try{var r=e(m).BGdataURL||(function(){var B=document.createElement("img");B.src=o;return d(B).toDataURL()})();m.style[l]=u.replace(z,function(C,B){return"("+r+")"})}catch(x){f.externalImageHandler.init(m,o)}}}}}};i.reset=function(m){if(m&&m[0]&&m.length&&m[0].nodeName){var s=Array.prototype.slice.call(m),u=-1,q=s.length;while(++u<q){i.reset.call(this,s[u])}return}m=m||document.documentElement;if(!document.createElement("canvas").getContext){m.style.filter="progid:DXImageTransform.Microsoft.BasicImage(grayscale=0)";return}var r=b(m),o=-1,p=r.length;while(++o<p){var t=r[o];if(t.nodeName.toLowerCase()==="img"){var k=t.getAttribute("src");if(a(k)){f.externalImageHandler.reset(t,k)}t.src=e(t).realSRC||k}else{for(var j=0,n=f.colorProps.length;j<n;j++){if(e(t).externalBG){f.externalImageHandler.reset(t)}var l=f.colorProps[j];t.style[l]=e(t)[l]||""}}}};i.prepare=function(l){if(l&&l[0]&&l.length&&l[0].nodeName){var q=Array.prototype.slice.call(l),u=-1,o=q.length;while(++u<o){i.prepare.call(null,q[u])}return}l=l||document.documentElement;if(!document.createElement("canvas").getContext){return}var p=b(l),m=-1,n=p.length;while(++m<n){var r=p[m];if(e(r).skip){return}if(r.nodeName.toLowerCase()==="img"){if(r.getAttribute("src")&&!a(r.src)){d(r,true)}}else{var k=g(r,"backgroundImage");if(k.indexOf("url(")>-1){var t=/\(['"]?(.+?)['"]?\)/,j=k.match(t)[1];if(!a(j)){var s=document.createElement("img");s.src=j;d(s,true,r)}}}}};return i})();